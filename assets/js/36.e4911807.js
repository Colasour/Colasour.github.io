(window.webpackJsonp=window.webpackJsonp||[]).push([[36],{286:function(t,a,r){"use strict";r.r(a);var s=r(35),v=Object(s.a)({},(function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h2",{attrs:{id:"渲染相关术语"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#渲染相关术语"}},[t._v("#")]),t._v(" 渲染相关术语")]),t._v(" "),s("h3",{attrs:{id:"ssr"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ssr"}},[t._v("#")]),t._v(" SSR")]),t._v(" "),s("p",[t._v("指的是服务器渲染 (Server-Side Rendering)，也就是在服务器上将客户端或者通用 (universal) 应用程序渲染成 HTML。")]),t._v(" "),s("h3",{attrs:{id:"csr"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#csr"}},[t._v("#")]),t._v(" CSR")]),t._v(" "),s("p",[t._v("说的是客户端渲染 (Client-Side Rendering)，也就是在浏览器中渲染 APP，通常使用 DOM。")]),t._v(" "),s("h3",{attrs:{id:"prerender"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#prerender"}},[t._v("#")]),t._v(" Prerender")]),t._v(" "),s("p",[t._v("说的是预渲染 (Prerendering)，也就是说在构建时运行客户端应用程序，这样将它的初始状态捕获为静态 HTML。")]),t._v(" "),s("h3",{attrs:{id:"isomorphism"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#isomorphism"}},[t._v("#")]),t._v(" Isomorphism")]),t._v(" "),s("p",[t._v("说的是同构 (Isomorphism)，是指服务器渲染 (SSR) 时或者 Native 渲染时复用浏览器端的 JavaScript 组件。")]),t._v(" "),s("h2",{attrs:{id:"性能相关术语"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#性能相关术语"}},[t._v("#")]),t._v(" 性能相关术语")]),t._v(" "),s("h3",{attrs:{id:"ttfb"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ttfb"}},[t._v("#")]),t._v(" TTFB")]),t._v(" "),s("p",[t._v("首字节时间 (Time To First Byte)，也就是从点击链接到接收第一个字节内容之间的时间。")]),t._v(" "),s("h3",{attrs:{id:"fp"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#fp"}},[t._v("#")]),t._v(" FP")]),t._v(" "),s("p",[t._v("首次绘制 (First Pain)，也就是第一次有像素对用户可见的时间。")]),t._v(" "),s("h3",{attrs:{id:"fcp"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#fcp"}},[t._v("#")]),t._v(" FCP")]),t._v(" "),s("p",[t._v("首次内容绘制 (First Contentful Paint)，也就是请求内容（文章正文等）变得可见的时间。")]),t._v(" "),s("h3",{attrs:{id:"tti"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#tti"}},[t._v("#")]),t._v(" TTI")]),t._v(" "),s("p",[t._v("可交互时间 (Time To Interactive)，主要指的是页面变为可交互的时间（事件绑定等）。")]),t._v(" "),s("h2",{attrs:{id:"服务器渲染"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#服务器渲染"}},[t._v("#")]),t._v(" 服务器渲染")]),t._v(" "),s("p",[t._v("指在服务器中生成整个页面的 HTML，以此响应请求的技术。")]),t._v(" "),s("p",[t._v("避免了在客户端上进行数据获取的额外往返 (round-trips) 和模板处理。")]),t._v(" "),s("p",[s("img",{attrs:{src:r(418),alt:"服务器渲染"}})]),t._v(" "),s("p",[t._v("服务器渲染通常会得到快速的首次绘制 (FP) 和首次内容绘制 (FCP)。")]),t._v(" "),s("p",[t._v("在服务器上运行页面逻辑和渲染，可以避免向客户端发送大量 JavaScript，有助于实现快速的可交互时间 (TTI)。")]),t._v(" "),s("p",[t._v("这方法之所以运行得通，是因为服务器渲染的本质，只是向用户浏览器发送文本和链接。")]),t._v(" "),s("p",[t._v("可以看出这种方法适用于广泛的设备和网络的，并且能够触发一些有趣的浏览器优化，比如流文档解析。")]),t._v(" "),s("p",[t._v("使用服务器渲染，用户不再需要在客户端上等待 CPU 相关的 JavaScript 处理后，然后才能访问站点。")]),t._v(" "),s("p",[t._v("即使第三方 JS 无法避免，使用服务器渲染来减少自己的 JS 成本，也能提供更能多的性能预算。")]),t._v(" "),s("p",[t._v("这种方法有一个主要的缺点，就是在服务器上生成页面有一定的耗时，可能会导致较慢的首字节时间 (TTFB)。")]),t._v(" "),s("p",[t._v("其实，服务器渲染是否满足应用程序，很大程度上取决于构建目标的体验类型。")]),t._v(" "),s("p",[t._v("一个特点就是可以选择性地对某些页面使用服务器渲染，而对其余页面不使用。")]),t._v(" "),s("h2",{attrs:{id:"静态渲染"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#静态渲染"}},[t._v("#")]),t._v(" 静态渲染")]),t._v(" "),s("p",[t._v("静态渲染 (Static Rendering) 在构建时进行，并提供快速的 FP、FCP 和 TTI —— 假设客户端 JS 的体积得当。")]),t._v(" "),s("p",[t._v("与服务器渲染不同，它还致力于实现始终如一的快速首字节时间 (TTFB)，因为页面的 HTML 不必动态生成。")]),t._v(" "),s("p",[t._v("通常，静态渲染意味着提前为每个 URL 生成单独的 HTML 文件。通过预先生成 HTML 响应，可以将静态渲染部署到多个 CDN 以利用边缘缓存，也就是页面静态化。")]),t._v(" "),s("p",[s("img",{attrs:{src:r(419),alt:"静态渲染"}})]),t._v(" "),s("h3",{attrs:{id:"静态渲染缺点"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#静态渲染缺点"}},[t._v("#")]),t._v(" 静态渲染缺点")]),t._v(" "),s("p",[t._v("必须为每个可能的 URL 生成单独的 HTML 文件。如果无法提前预测这些 URL 的内容，或者对于具有大量不同页面的网站，这可能具有挑战性甚至是不可行的。")]),t._v(" "),s("h3",{attrs:{id:"静态渲染与预渲染"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#静态渲染与预渲染"}},[t._v("#")]),t._v(" 静态渲染与预渲染")]),t._v(" "),s("p",[t._v("静态渲染页面无需执行太多客户端 JS 就可交互，预渲染则改进了单页面应用的 FP 或 FCP。")]),t._v(" "),s("p",[t._v("由于是单页面应用，所以必须等待客户端启动过程，以使页面真正具有交互性。")]),t._v(" "),s("p",[t._v("不过如果不确定是选择静态渲染还是预渲染方案，建议可以尝试下这个测试：禁用 JavaScript 并加载创建的网页。对于静态渲染的页面而言，大多数功能在没启用 JavaScript 下仍然可以正常运作。而对于预渲染页面来说，一些基本的功能，比如链接能正常展现，但其余部分无法正常展现。")]),t._v(" "),s("p",[t._v("还有一个有效的测试：使用 "),s("code",[t._v("Chrome DevTools")]),t._v(" 减慢网络速度，并观察在页面变为可交互之前，已经下载了多少 JavaScript 文件。预渲染通常需要更多的 JavaScript 来实现交互，并且这些 JS 往往比静态徐然使用的渐进增强方法更加复杂。")]),t._v(" "),s("p",[t._v("不过服务器渲染也不是银弹，因为它的动态特性也带来了显著的计算成本。许多服务器渲染方案会耗时，导致延迟的 TTFB 或城北的数据传输。")]),t._v(" "),s("h2",{attrs:{id:"客户端渲染"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#客户端渲染"}},[t._v("#")]),t._v(" 客户端渲染")]),t._v(" "),s("p",[t._v("客户端渲染 (Client Side)")])])}),[],!1,null,null,null);a.default=v.exports},418:function(t,a,r){t.exports=r.p+"assets/img/01-server-rendering.9a22970e.jpg"},419:function(t,a,r){t.exports=r.p+"assets/img/01-static-rendering.26590d2b.jpg"}}]);